1!==window.devicePixelRatio&&alert("Votre navigateur est zoom\xe9 \uD83D\uDE2E Pour un affichage optimal merci de le r\xe9gler \xe0 100% en cliquant sur les 3 points \xe0 droite de la fen\xeatre \uD83D\uDE0A");let products=[{productId:"FO_5a736c00-8b41-42eb-aac5-95c2e71ea7fb",productImage:"images/products/lys.jpg",productImgAlt:"Lys orange",productName:"Lys",productDesc:"En Vente en ligne, livraison rapide, qualit\xe9 garantie, prix abordable.",productPrice:9,productColor:"orangeFlower"},{productId:"FB_36658c-adec-11ed-afa1-0242ac120002",productImage:"images/products/anemone.jpg",productImgAlt:"Anemone blanche",productName:"Anemone",productDesc:"En Vente en ligne, livraison rapide, qualit\xe9 garantie, prix abordable.",productPrice:15,productColor:"whiteFlower"},{productId:"FR_09e9a9ba-adfd-11ed-afa1-0242ac120002",productImage:"images/products/tulipe.jpg",productImgAlt:"Tulipe rose",productName:"Tulipe",productDesc:"En Vente en ligne, livraison rapide, qualit\xe9 garantie, prix abordable.",productPrice:12,productColor:"pinkFlower"},{productId:"FJ_1acc8d88-adxd-11ed-afa1-0242bc120002",productImage:"images/products/jonquille.jpg",productImgAlt:"Jonquille jaune",productName:"Jonquille",productDesc:"En Vente en ligne, livraison rapide, qualit\xe9 garantie, prix abordable.",productPrice:5,productColor:"yellowFlower"},{productId:"FR_12e9a9bf-bcfd-231ed-cfa1-0242ac120002",productImage:"images/products/lotus.jpg",productImgAlt:"Lotus rose",productName:"Lotus",productDesc:"En Vente en ligne, livraison rapide, qualit\xe9 garantie, prix abordable.",productPrice:17,productColor:"pinkFlower"},{productId:"FJ_2bcc8d87-adxd-15gd-afa1-8543bc1200mdr",productImage:"images/products/crocus.jpg",productImgAlt:"Crocus jaune",productName:"Crocus",productDesc:"En Vente en ligne, livraison rapide, qualit\xe9 garantie, prix abordable.",productPrice:8,productColor:"yellowFlower"},{productId:"FB_258658c-lolwtf-11ed-ffa2-0242ac1256712",productImage:"images/products/osteospermum.jpg",productImgAlt:"Osteospermum blanche",productName:"Osteospermum",productDesc:"En Vente en ligne, livraison rapide, qualit\xe9 garantie, prix abordable.",productPrice:9,productColor:"whiteFlower"},{productId:"FO_6a736c22-8b41-42Bb-cac5-95c2e71ea7fo",productImage:"images/products/asteracee.jpg",productImgAlt:"Asteracee orange",productName:"Asteracee",productDesc:"En Vente en ligne, livraison rapide, qualit\xe9 garantie, prix abordable.",productPrice:17,productColor:"orangeFlower"},];function createProducts(){let e=document.querySelector(".product__container"),t="";for(let r=0;r<products.length;r++)r%2==0&&(t+='<div class="product__container--adjust">'),t+=`
      <a onclick="navigation(event, 'description')">
        <figure onclick="descriptProduct(this)" class="product__card ${products[r].productColor}">
        <img class="product__cardImg" src="${products[r].productImage}" alt="${products[r].productImgAlt}">
          <figcaption class="product__cardTxt">
            <h3>${products[r].productName}</h3>
            ${products[r].productDesc} <br>
            <span class="product__price">${products[r].productPrice} €</span>
          </figcaption>
        </figure>
      </a>
    `,(r%2==1||r===products.length-1)&&(t+="</div>");e.innerHTML=t,descriptProduct()}function navigation(e,t){e.preventDefault();let r,o=document.querySelector(".header__nav").offsetHeight,c;switch(t){case"aboutUs":c=(r=document.getElementById("aboutUs")).offsetTop-o-55,768==window.innerWidth&&(c+=30),window.innerWidth<800&&(c+=-100),window.innerWidth<393&&(c+=50);break;case"newArticles":c=(r=document.querySelector(".product__title")).offsetTop-o-40,window.innerWidth<800&&(c+=-100),window.innerWidth<393&&(c+=-110);break;case"description":c=(r=document.querySelector(".description__title")).offsetTop-o-65,window.innerWidth<393&&(c+=-30);break;case"contact":c=(r=document.querySelector(".footer__title")).offsetTop-o-10,768==window.innerWidth&&(c+=-120),window.innerWidth<800&&(c+=-100),window.innerWidth<393&&(c+=10);break;default:console.error(`Invalid section: ${t}`);return}window.scrollTo({top:c,behavior:"smooth"})}function removeDescriptCard(){let e=document.querySelectorAll(".description");e.forEach(e=>{e.remove()})}function cardDisplay(){window.innerWidth>700&&(document.querySelector(".product__container").style.height="800px")}function chooseFlower(e){removeDescriptCard(),createProducts(),cardDisplay();let t=document.querySelector(".product__container"),r=document.querySelectorAll(".product__card");if(r.forEach(e=>{e.style.display="none"}),"pink"===e){let o=document.querySelectorAll(".pinkFlower");o.forEach(e=>{e.style.display="block"})}else if("orange"===e){let c=document.querySelectorAll(".orangeFlower");c.forEach(e=>{e.style.display="block"})}else if("yellow"===e){let a=document.querySelectorAll(".yellowFlower");a.forEach(e=>{e.style.display="block"})}else if("white"===e){let i=document.querySelectorAll(".whiteFlower");i.forEach(e=>{e.style.display="block"})}else r.forEach(e=>{e.style.display="block",t.style.height="auto"})}function removeProductCards(){let e=document.querySelectorAll(".product__card");e.forEach(e=>{e.remove()})}function descriptProduct(){let e=document.querySelectorAll(".product__card");for(let t of e)t.addEventListener("click",function(){let e=this.querySelector("h3").textContent,t=this.querySelector("img").src,r=this.querySelector("img").alt,o=this.querySelector(".product__cardTxt").textContent,c=this.querySelector(".product__price").textContent,a=`
          <article class="description">
            <div class="description__title">
              <h3>Cet article vous fait plaisir ?</h3>
              <button class="description__closeBtn">X</button>
            </div>
            <figure class="description__card">
              <div class="description__cardImg--block">
                <img class="description__cardImg" src="${t}" alt="${r}">
              </div>
              <figcaption class="description__cardTxt">
                <h3 class="description__name">${e}</h3>
                ${o} 
                <strong>
                <span class="description__price">PRIX UNITAIRE : ${c}</span>
              </strong>
                <input class="quantityItem" type="number" min="1" max="100" value="1">
                <button class="buyItem" onclick="buyIt()">Ajouter au panier</button>
              </figcaption>
            </figure>
          </article>`,i=document.querySelector(".product__container");i.innerHTML="",i.innerHTML=a;let l=document.querySelector(".quantityItem"),n=parseFloat(c.slice(0,-1).replace(",",".")),s=document.querySelector(".buyItem");l.addEventListener("input",function(){let e=Number(l.value);0===e||e>100?s.textContent="Quantit\xe9 entre 1 \xe0 100 !":s.textContent="Ajouter au panier";let t=n*e,r=document.querySelector(".description__price");r.textContent=`PRIX TOTAL : ${t}€`,1===e&&(r.textContent=`PRIX UNITAIRE : ${t}€`)});let d=document.querySelector(".description__closeBtn");d.addEventListener("click",function(){let e=document.querySelector(".description");e.remove(),document.querySelector(".product__container").style.height="auto",createProducts()})})}createProducts();let basketDisplayed=!1;function buyIt(){let e=parseInt(document.querySelector(".quantityItem").value);if(0===e||isNaN(e)||e>100)return;document.querySelector(".basket__container").style.display="block",setTimeout(function(){document.querySelector(".basket__container").style.display="none"},3500);let t=document.querySelector(".description__name").textContent,r=products.find(e=>e.productName===t),o=r?r.productId:null,c=JSON.parse(localStorage.getItem("cart"))||[],a=c.findIndex(e=>e.id===o);if(-1!==a){let i=c[a].quantity+e;if(i>100){let l=document.createElement("div");l.style.position="fixed",l.style.zIndex="1000",l.style.top="10%",l.style.left="50%",l.style.transform="translate(-50%, -50%)",l.style.backgroundColor="#59b55d",l.style.color="#fff",l.style.padding="20px",l.style.borderRadius="5px",l.style.textAlign="center",l.innerHTML=`<p>Vous ne pouvez pas acheter plus de 100 ${t}(s)</p>`,document.body.appendChild(l),document.querySelector(".basket__container").style.display="none",setTimeout(()=>{l.style.display="none"},3500);return}c[a].quantity=i}else c.push({id:o,quantity:e});localStorage.setItem("cart",JSON.stringify(c)),displayBasket()}function getProductIndex(e){let t=e.closest(".basket__product"),r=Array.from(t.parentNode.children).indexOf(t);return r}function addProduct(){let e=document.querySelectorAll(".basket__product-add");e.forEach(e=>{e.addEventListener("click",function(){let t=getProductIndex(e),r=JSON.parse(localStorage.getItem("cart"))||[],o=r[t].id,c=products.find(e=>e.productId===o);c&&(r[t].quantity<100?(r[t].quantity++,localStorage.setItem("cart",JSON.stringify(r)),displayBasket()):e.disabled=!0)})})}function removeProduct(){let e=document.querySelectorAll(".basket__product-remove");e.forEach(e=>{e.addEventListener("click",function(){let t=getProductIndex(e),r=JSON.parse(localStorage.getItem("cart"))||[];r[t].quantity>1?r[t].quantity--:r.splice(t,1),localStorage.setItem("cart",JSON.stringify(r)),displayBasket()})})}function removeAllProduct(){let e=document.querySelectorAll(".basket__product-remove-all");e.forEach(e=>{e.addEventListener("click",function(){let t=getProductIndex(e),r=JSON.parse(localStorage.getItem("cart"))||[];r.splice(t,1),localStorage.setItem("cart",JSON.stringify(r)),displayBasket()})})}function adjustQuantity(){addProduct(),removeProduct(),removeAllProduct()}function setBasketHeight(){let e=JSON.parse(localStorage.getItem("cart"));if(e&&e.length>0){let t=new Set(e.map(e=>e.id));if(t.size>2){let r=document.querySelector(".basket__container");r.style.height="350px",r.style.overflow="auto";return}}let o=document.querySelector(".basket__container");o.style.height="auto",o.style.overflow="visible"}function displayBasketProducts(){setBasketHeight();let e=document.querySelector(".basket__products"),t=JSON.parse(localStorage.getItem("cart"))||[];if(e.innerHTML="",!t.length){e.innerHTML='<p class="basket__txt">est vide pour le moment</p>';return}for(let r of t){let o=products.find(e=>e.productId===r.id);o&&(e.innerHTML+=`
          <div class="basket__product">
            <div class="basket__product-info">
              <h3 class="basket__product-name">${o.productName}: ${r.quantity}</h3>
              <img class="basket__product-img" src="${o.productImage}" alt="${o.productImgAlt}">
            </div>
            <div class="basket__product-actions">
              <button class="basket__product-add">+</button>
              <p class="basket__product-quantity">${r.quantity}</p>
              <button class="basket__product-remove">-</button>
              <button class="basket__product-remove-all">Supprimer</button>
            </div>
          </div>
        `)}}function calculateBasketTotal(){let e=JSON.parse(localStorage.getItem("cart"))||[],t=0;for(let r of e)t+=r.quantity;let o=0;for(let c of e){let a=c.id,i=products.find(e=>e.productId===a);if(i){let l=i.productPrice;o+=l*c.quantity}}return{totalQuantity:t,totalPrice:o}}function buyAll(){localStorage.removeItem("cart"),displayBasket(),displayBasketTotal();let e=document.querySelector(".basket__products");e.innerHTML='<p class="basket__txt"> <strong>Votre commande a \xe9t\xe9 valid\xe9e !<br><br>Shop Flower vous remercie pour votre confiance et vous dit \xe0 bient\xf4t.</strong></p>'}function displayBasketTotal(){let e=document.querySelector(".basket__total");e.innerHTML="";let t=JSON.parse(localStorage.getItem("cart"))||[];if(0===t.length)e.innerHTML="";else{let{totalQuantity:r,totalPrice:o}=calculateBasketTotal();e.innerHTML=`
      <h3 class="basket__total-title">R\xe9capitulatif d'achat</h3>
      <p class="basket__total-items">Nombre total d'article(s) : ${r}</p>
      <p class="basket__total-price"><strong>Prix total : ${o}€</strong></p>
      <button class="basket__btn" onclick="buyAll()">Acheter</button>
    `}}function displayBasket(){displayBasketProducts(),displayBasketTotal(),adjustQuantity()}document.getElementById("basket").addEventListener("click",function(){basketDisplayed?(document.querySelector(".basket__container").style.display="none",basketDisplayed=!1):(document.querySelector(".basket__container").style.display="block",basketDisplayed=!0)}),displayBasket();